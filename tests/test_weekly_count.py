
def test_join_results():
    # get key program parameter ready
    key_list = ["TOKEN", "DRYRUN", "LAMBDA"]
    var_dict = setup_essential_var()

    build_count=[{'week': '1.2017', 'pass_build': 6, 'fail_build': 0}, {'week': '2.2017', 'pass_build': 53, 'fail_build': 57}, {'week': '3.2017', 'pass_build': 104, 'fail_build': 81}, {'week': '4.2017', 'pass_build': 88, 'fail_build': 130}, {'week': '5.2017', 'pass_build': 100, 'fail_build': 65}, {'week': '6.2017', 'pass_build': 159, 'fail_build': 76}, {'week': '7.2017', 'pass_build': 152, 'fail_build': 87}, {'week': '8.2017', 'pass_build': 240, 'fail_build': 110}, {'week': '9.2017', 'pass_build': 245, 'fail_build': 88}, {'week': '10.2017', 'pass_build': 207, 'fail_build': 93}, {'week': '11.2017', 'pass_build': 270, 'fail_build': 157}, {'week': '12.2017', 'pass_build': 254, 'fail_build': 159}, {'week': '13.2017', 'pass_build': 275, 'fail_build': 173}, {'week': '14.2017', 'pass_build': 192, 'fail_build': 150}, {'week': '15.2017', 'pass_build': 181, 'fail_build': 125}, {'week': '16.2017', 'pass_build': 232, 'fail_build': 114}, {'week': '17.2017', 'pass_build': 182, 'fail_build': 103}, {'week': '18.2017', 'pass_build': 129, 'fail_build': 138}, {'week': '19.2017', 'pass_build': 309, 'fail_build': 131}, {'week': '20.2017', 'pass_build': 680, 'fail_build': 238}, {'week': '21.2017', 'pass_build': 495, 'fail_build': 243}, {'week': '22.2017', 'pass_build': 526, 'fail_build': 189}, {'week': '23.2017', 'pass_build': 318, 'fail_build': 204}, {'week': '24.2017', 'pass_build': 296, 'fail_build': 272}, {'week': '25.2017', 'pass_build': 363, 'fail_build': 194}, {'week': '26.2017', 'pass_build': 424, 'fail_build': 329}, {'week': '27.2017', 'pass_build': 332, 'fail_build': 295}, {'week': '28.2017', 'pass_build': 392, 'fail_build': 305}, {'week': '29.2017', 'pass_build': 384, 'fail_build': 345}, {'week': '30.2017', 'pass_build': 444, 'fail_build': 208}, {'week': '31.2017', 'pass_build': 283, 'fail_build': 139}, {'week': '32.2017', 'pass_build': 354, 'fail_build': 336}, {'week': '33.2017', 'pass_build': 499, 'fail_build': 304}, {'week': '34.2017', 'pass_build': 914, 'fail_build': 314}, {'week': '35.2017', 'pass_build': 900, 'fail_build': 267}, {'week': '36.2017', 'pass_build': 1072, 'fail_build': 419}, {'week': '37.2017', 'pass_build': 937, 'fail_build': 390}, {'week': '38.2017', 'pass_build': 978, 'fail_build': 392}, {'week': '39.2017', 'pass_build': 898, 'fail_build': 373}, {'week': '40.2017', 'pass_build': 812, 'fail_build': 364}, {'week': '41.2017', 'pass_build': 1734, 'fail_build': 563}, {'week': '42.2017', 'pass_build': 3400, 'fail_build': 679}, {'week': '43.2017', 'pass_build': 2772, 'fail_build': 472}, {'week': '44.2017', 'pass_build': 2647, 'fail_build': 431}, {'week': '45.2017', 'pass_build': 2624, 'fail_build': 278}, {'week': '46.2017', 'pass_build': 3370, 'fail_build': 283}, {'week': '47.2017', 'pass_build': 3277, 'fail_build': 272}, {'week': '48.2017', 'pass_build': 3869, 'fail_build': 337}, {'week': '49.2017', 'pass_build': 3659, 'fail_build': 329}, {'week': '50.2017', 'pass_build': 3900, 'fail_build': 322}, {'week': '51.2017', 'pass_build': 1113, 'fail_build': 148}]
    pipe_stat = {'35.2016': 1, '38.2016': 5, '39.2016': 8, '42.2016': 9, '43.2016': 11, '44.2016': 12, '48.2016': 13, '49.2016': 15, '2.2017': 17, '3.2017': 18, '4.2017': 20, '6.2017': 22, '7.2017': 23, '8.2017': 26, '9.2017': 28, '10.2017': 30, '11.2017': 36, '12.2017': 42, '13.2017': 48, '14.2017': 51, '15.2017': 56, '16.2017': 60, '17.2017': 62, '18.2017': 68, '19.2017': 70, '20.2017': 75, '21.2017': 86, '22.2017': 95, '23.2017': 109, '24.2017': 116, '25.2017': 123, '26.2017': 154, '27.2017': 159, '28.2017': 166, '29.2017': 173, '30.2017': 179, '31.2017': 182, '32.2017': 187, '33.2017': 197, '34.2017': 210, '35.2017': 213, '36.2017': 224, '37.2017': 235, '38.2017': 243, '39.2017': 251, '40.2017': 255, '41.2017': 257, '42.2017': 264, '43.2017': 275, '44.2017': 279, '45.2017': 288, '46.2017': 292, '47.2017': 294, '48.2017': 303, '49.2017': 313, '50.2017': 318, '51.2017': 323}
    team_stat = {'35.2016': 3, '38.2016': 5, '39.2016': 7, '41.2016': 9, '42.2016': 10, '44.2016': 11, '3.2017': 13, '6.2017': 14, '8.2017': 15, '9.2017': 17, '10.2017': 18, '11.2017': 20, '15.2017': 21, '19.2017': 24, '20.2017': 25, '24.2017': 26, '25.2017': 27, '26.2017': 30, '28.2017': 32, '32.2017': 33, '33.2017': 34, '37.2017': 35, '39.2017': 36, '41.2017': 37, '42.2017': 38, '43.2017': 39, '46.2017': 41, '47.2017': 42}
    build_count = join_results(pipe_stat, build_count, "pipelines")
    build_count = join_results(team_stat, build_count, "teams")
    # print(build_count)
    for build in build_count:
        print(build)
